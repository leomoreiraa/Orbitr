# =============================
# Configuração do Datasource
# =============================
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/orbitr}
spring.datasource.username=${DB_USERNAME:taskuser}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# =============================
# JPA / Hibernate
# =============================
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# =============================
# Spring Security / JWT
# =============================
# Chave secreta para assinar tokens JWT (em produção usar variável de ambiente)
# Defina APP_JWT_SECRET no ambiente (sem valor padrão por segurança)
app.jwt.secret=${APP_JWT_SECRET:}
# Tempo de expiração em milissegundos (padrão 1 hora)
app.jwt.expiration=${APP_JWT_EXPIRATION:3600000}

# =============================
# Springdoc OpenAPI (Swagger UI)
# =============================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.operationsSorter=method

# =============================
# Server
# =============================
server.port=8080

# =============================
# Spring Mail (SMTP)
# =============================
# =================================================
# OPÇÕES GRATUITAS DE EMAIL - Escolha uma das opções abaixo:
# =================================================

# OPÇÃO 1: Gmail (GRATUITO - 500 emails/dia)
spring.mail.host=${SMTP_HOST:smtp.gmail.com}
spring.mail.port=${SMTP_PORT:587}
# Defina SMTP_USERNAME e SMTP_PASSWORD no ambiente para produção
spring.mail.username=${SMTP_USERNAME:}
spring.mail.password=${SMTP_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=${SMTP_HOST:smtp.gmail.com}
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# OPÇÃO 2: Outlook/Hotmail (GRATUITO - 300 emails/dia)
# spring.mail.host=smtp-mail.outlook.com
# spring.mail.port=587
# spring.mail.username=seu-email@outlook.com
# spring.mail.password=sua-senha
# spring.mail.properties.mail.smtp.starttls.enable=true
# spring.mail.properties.mail.smtp.auth=true

# OPÇÃO 3: Mailtrap (GRATUITO para desenvolvimento - 500 emails/mês)
# spring.mail.host=smtp.mailtrap.io
# spring.mail.port=2525
# spring.mail.username=seu-username-mailtrap
# spring.mail.password=sua-senha-mailtrap
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# Configurações do remetente
spring.mail.properties.mail.from=Orbitr <${SMTP_USERNAME:}>
spring.mail.properties.mail.smtp.from=${SMTP_USERNAME:}

# Configurações opcionais (desativado por padrão em produção)
spring.mail.properties.mail.debug=${MAIL_DEBUG:false}
spring.mail.default-encoding=UTF-8

# =============================
# Configurações do App Email
# =============================
app.email.from-address=Orbitr <${SMTP_USERNAME:}>
app.email.from-name=Orbitr - Seu espaço de produtividade
app.email.support-email=${APP_SUPPORT_EMAIL:}
app.email.website-url=${APP_WEBSITE_URL:http://localhost:4200}
app.email.app-url=${APP_WEBSITE_URL:http://localhost:4200}
app.email.company-name=Orbitr
app.email.company-logo=https://via.placeholder.com/200x60/667eea/ffffff?text=Orbitr

# =============================
# Logging
# =============================
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# Origem do frontend (usado por CORS) -- ajustar para produção
app.frontend.origin=${APP_FRONTEND_ORIGIN:http://localhost:4200}
# Tempo de expiração do refresh token em milissegundos (padrão 14 dias)
app.refresh.token.expiration=${APP_REFRESH_TOKEN_EXPIRATION:1209600000}
